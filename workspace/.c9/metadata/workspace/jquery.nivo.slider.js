{"filter":false,"title":"jquery.nivo.slider.js","tooltip":"/jquery.nivo.slider.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":2}},"text":"/*"},{"action":"insertText","range":{"start":{"row":0,"column":2},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":552,"column":0}},"lines":[" * jQuery Nivo Slider v2.4"," * http://nivo.dev7studios.com"," *"," * Copyright 2011, Gilbert Pellegrom"," * Free to use and abuse under the MIT license."," * http://www.opensource.org/licenses/mit-license.php"," * "," * May 2010 - Pick random effect from specified set of effects by toronegro"," * May 2010 - controlNavThumbsFromRel option added by nerd-sh"," * May 2010 - Do not start nivoRun timer if there is only 1 slide by msielski"," * April 2010 - controlNavThumbs option added by Jamie Thompson (http://jamiethompson.co.uk)"," * March 2010 - manualAdvance option added by HelloPablo (http://hellopablo.co.uk)"," */","","(function($) {","","    var NivoSlider = function(element, options){","\t\t//Defaults are below","\t\tvar settings = $.extend({}, $.fn.nivoSlider.defaults, options);","","        //Useful variables. Play carefully.","        var vars = {","            currentSlide: 0,","            currentImage: '',","            totalSlides: 0,","            randAnim: '',","            running: false,","            paused: false,","            stop: false","        };","    ","        //Get this slider","        var slider = $(element);","        slider.data('nivo:vars', vars);","        slider.css('position','relative');","        slider.addClass('nivoSlider');","        ","        //Find our slider children","        var kids = slider.children();","        kids.each(function() {","            var child = $(this);","            var link = '';","            if(!child.is('img')){","                if(child.is('a')){","                    child.addClass('nivo-imageLink');","                    link = child;","                }","                child = child.find('img:first');","            }","            //Get img width & height","            var childWidth = child.width();","            if(childWidth == 0) childWidth = child.attr('width');","            var childHeight = child.height();","            if(childHeight == 0) childHeight = child.attr('height');","            //Resize the slider","            if(childWidth > slider.width()){","                slider.width(childWidth);","            }","            if(childHeight > slider.height()){","                slider.height(childHeight);","            }","            if(link != ''){","                link.css('display','none');","            }","            child.css('display','none');","            vars.totalSlides++;","        });","        ","        //Set startSlide","        if(settings.startSlide > 0){","            if(settings.startSlide >= vars.totalSlides) settings.startSlide = vars.totalSlides - 1;","            vars.currentSlide = settings.startSlide;","        }","        ","        //Get initial image","        if($(kids[vars.currentSlide]).is('img')){","            vars.currentImage = $(kids[vars.currentSlide]);","        } else {","            vars.currentImage = $(kids[vars.currentSlide]).find('img:first');","        }","        ","        //Show initial link","        if($(kids[vars.currentSlide]).is('a')){","            $(kids[vars.currentSlide]).css('display','block');","        }","        ","        //Set first background","        slider.css('background','url(\"'+ vars.currentImage.attr('src') +'\") no-repeat');","        ","        //Add initial slices","        for(var i = 0; i < settings.slices; i++){","            var sliceWidth = Math.round(slider.width()/settings.slices);","            if(i == settings.slices-1){","                slider.append(","                    $('<div class=\"nivo-slice\"></div>').css({ left:(sliceWidth*i)+'px', width:(slider.width()-(sliceWidth*i))+'px' })","                );","            } else {","                slider.append(","                    $('<div class=\"nivo-slice\"></div>').css({ left:(sliceWidth*i)+'px', width:sliceWidth+'px' })","                );","            }","        }","        ","        //Create caption","        slider.append(","            $('<div class=\"nivo-caption\"><p></p></div>').css({ display:'none', opacity:settings.captionOpacity })","        );\t\t\t","        //Process initial  caption","        if(vars.currentImage.attr('title') != ''){","            var title = vars.currentImage.attr('title');","            if(title.substr(0,1) == '#') title = $(title).html();","            $('.nivo-caption p', slider).html(title);\t\t\t\t\t","            $('.nivo-caption', slider).fadeIn(settings.animSpeed);","        }","        ","        //In the words of Super Mario \"let's a go!\"","        var timer = 0;","        if(!settings.manualAdvance && kids.length > 1){","            timer = setInterval(function(){ nivoRun(slider, kids, settings, false); }, settings.pauseTime);","        }","","        //Add Direction nav","        if(settings.directionNav){","            slider.append('<div class=\"nivo-directionNav\"><a class=\"nivo-prevNav\">Prev</a><a class=\"nivo-nextNav\">Next</a></div>');","            ","            //Hide Direction nav","            if(settings.directionNavHide){","                $('.nivo-directionNav', slider).hide();","                slider.hover(function(){","                    $('.nivo-directionNav', slider).show();","                }, function(){","                    $('.nivo-directionNav', slider).hide();","                });","            }","            ","            $('a.nivo-prevNav', slider).live('click', function(){","                if(vars.running) return false;","                clearInterval(timer);","                timer = '';","                vars.currentSlide-=2;","                nivoRun(slider, kids, settings, 'prev');","            });","            ","            $('a.nivo-nextNav', slider).live('click', function(){","                if(vars.running) return false;","                clearInterval(timer);","                timer = '';","                nivoRun(slider, kids, settings, 'next');","            });","        }","        ","        //Add Control nav","        if(settings.controlNav){","            var nivoControl = $('<div class=\"nivo-controlNav\"></div>');","            slider.append(nivoControl);","            for(var i = 0; i < kids.length; i++){","                if(settings.controlNavThumbs){","                    var child = kids.eq(i);","                    if(!child.is('img')){","                        child = child.find('img:first');","                    }","                    if (settings.controlNavThumbsFromRel) {","                        nivoControl.append('<a class=\"nivo-control\" rel=\"'+ i +'\"><img src=\"'+ child.attr('rel') + '\" alt=\"\" /></a>');","                    } else {","                        nivoControl.append('<a class=\"nivo-control\" rel=\"'+ i +'\"><img src=\"'+ child.attr('src').replace(settings.controlNavThumbsSearch, settings.controlNavThumbsReplace) +'\" alt=\"\" /></a>');","                    }","                } else {","                    nivoControl.append('<a class=\"nivo-control\" rel=\"'+ i +'\">'+ (i + 1) +'</a>');","                }","                ","            }","            //Set initial active link","            $('.nivo-controlNav a:eq('+ vars.currentSlide +')', slider).addClass('active');","            ","            $('.nivo-controlNav a', slider).live('click', function(){","                if(vars.running) return false;","                if($(this).hasClass('active')) return false;","                clearInterval(timer);","                timer = '';","                slider.css('background','url(\"'+ vars.currentImage.attr('src') +'\") no-repeat');","                vars.currentSlide = $(this).attr('rel') - 1;","                nivoRun(slider, kids, settings, 'control');","            });","        }","        ","        //Keyboard Navigation","        if(settings.keyboardNav){","            $(window).keypress(function(event){","                //Left","                if(event.keyCode == '37'){","                    if(vars.running) return false;","                    clearInterval(timer);","                    timer = '';","                    vars.currentSlide-=2;","                    nivoRun(slider, kids, settings, 'prev');","                }","                //Right","                if(event.keyCode == '39'){","                    if(vars.running) return false;","                    clearInterval(timer);","                    timer = '';","                    nivoRun(slider, kids, settings, 'next');","                }","            });","        }","        ","        //For pauseOnHover setting","        if(settings.pauseOnHover){","            slider.hover(function(){","                vars.paused = true;","                clearInterval(timer);","                timer = '';","            }, function(){","                vars.paused = false;","                //Restart the timer","                if(timer == '' && !settings.manualAdvance){","                    timer = setInterval(function(){ nivoRun(slider, kids, settings, false); }, settings.pauseTime);","                }","            });","        }","        ","        //Event when Animation finishes","        slider.bind('nivo:animFinished', function(){ ","            vars.running = false; ","            //Hide child links","            $(kids).each(function(){","                if($(this).is('a')){","                    $(this).css('display','none');","                }","            });","            //Show current link","            if($(kids[vars.currentSlide]).is('a')){","                $(kids[vars.currentSlide]).css('display','block');","            }","            //Restart the timer","            if(timer == '' && !vars.paused && !settings.manualAdvance){","                timer = setInterval(function(){ nivoRun(slider, kids, settings, false); }, settings.pauseTime);","            }","            //Trigger the afterChange callback","            settings.afterChange.call(this);","        });","        ","        // Reset slice width before animations run","        var resetSliceWidth = function(slider, settings){","            var slices = $('.nivo-slice', slider);","            var i = 0;","            slices.each(function(){","                var slice = $(this);","                var sliceWidth = Math.round(slider.width()/settings.slices);","                if(i == settings.slices-1){","                    slice.css('width', (slider.width()-(sliceWidth*i)) + 'px');","                } else {","                    slice.css('width', sliceWidth + 'px');","                }","                i++;","            });","        }","","        // Private run method","\t\tvar nivoRun = function(slider, kids, settings, nudge){","\t\t\t//Get our vars","\t\t\tvar vars = slider.data('nivo:vars');","            ","            //Trigger the lastSlide callback","            if(vars && (vars.currentSlide == vars.totalSlides - 1)){ ","\t\t\t\tsettings.lastSlide.call(this);","\t\t\t}","            ","            // Stop","\t\t\tif((!vars || vars.stop) && !nudge) return false;","\t\t\t","\t\t\t//Trigger the beforeChange callback","\t\t\tsettings.beforeChange.call(this);","\t\t\t\t\t","\t\t\t//Set current background before change","\t\t\tif(!nudge){","\t\t\t\tslider.css('background','url(\"'+ vars.currentImage.attr('src') +'\") no-repeat');","\t\t\t} else {","\t\t\t\tif(nudge == 'prev'){","\t\t\t\t\tslider.css('background','url(\"'+ vars.currentImage.attr('src') +'\") no-repeat');","\t\t\t\t}","\t\t\t\tif(nudge == 'next'){","\t\t\t\t\tslider.css('background','url(\"'+ vars.currentImage.attr('src') +'\") no-repeat');","\t\t\t\t}","\t\t\t}","\t\t\tvars.currentSlide++;","            //Trigger the slideshowEnd callback","\t\t\tif(vars.currentSlide == vars.totalSlides){ ","\t\t\t\tvars.currentSlide = 0;","\t\t\t\tsettings.slideshowEnd.call(this);","\t\t\t}","\t\t\tif(vars.currentSlide < 0) vars.currentSlide = (vars.totalSlides - 1);","\t\t\t//Set vars.currentImage","\t\t\tif($(kids[vars.currentSlide]).is('img')){","\t\t\t\tvars.currentImage = $(kids[vars.currentSlide]);","\t\t\t} else {","\t\t\t\tvars.currentImage = $(kids[vars.currentSlide]).find('img:first');","\t\t\t}","\t\t\t","\t\t\t//Set acitve links","\t\t\tif(settings.controlNav){","\t\t\t\t$('.nivo-controlNav a', slider).removeClass('active');","\t\t\t\t$('.nivo-controlNav a:eq('+ vars.currentSlide +')', slider).addClass('active');","\t\t\t}","\t\t\t","\t\t\t//Process caption","\t\t\tif(vars.currentImage.attr('title') != ''){","                var title = vars.currentImage.attr('title');","                if(title.substr(0,1) == '#') title = $(title).html();\t","                    ","\t\t\t\tif($('.nivo-caption', slider).css('display') == 'block'){","\t\t\t\t\t$('.nivo-caption p', slider).fadeOut(settings.animSpeed, function(){","\t\t\t\t\t\t$(this).html(title);","\t\t\t\t\t\t$(this).fadeIn(settings.animSpeed);","\t\t\t\t\t});","\t\t\t\t} else {","\t\t\t\t\t$('.nivo-caption p', slider).html(title);","\t\t\t\t}\t\t\t\t\t","\t\t\t\t$('.nivo-caption', slider).fadeIn(settings.animSpeed);","\t\t\t} else {","\t\t\t\t$('.nivo-caption', slider).fadeOut(settings.animSpeed);","\t\t\t}","\t\t\t","\t\t\t//Set new slice backgrounds","\t\t\tvar  i = 0;","\t\t\t$('.nivo-slice', slider).each(function(){","\t\t\t\tvar sliceWidth = Math.round(slider.width()/settings.slices);","\t\t\t\t$(this).css({ height:'0px', opacity:'0', ","\t\t\t\t\tbackground: 'url(\"'+ vars.currentImage.attr('src') +'\") no-repeat -'+ ((sliceWidth + (i * sliceWidth)) - sliceWidth) +'px 0%' });","\t\t\t\ti++;","\t\t\t});","\t\t\t","\t\t\tif(settings.effect == 'random'){","\t\t\t\tvar anims = new Array('sliceDownRight','sliceDownLeft','sliceUpRight','sliceUpLeft','sliceUpDown','sliceUpDownLeft','fold','fade','slideInRight','slideInLeft');","\t\t\t\tvars.randAnim = anims[Math.floor(Math.random()*(anims.length + 1))];","\t\t\t\tif(vars.randAnim == undefined) vars.randAnim = 'fade';","\t\t\t}","            ","            //Run random effect from specified set (eg: effect:'fold,fade')","            if(settings.effect.indexOf(',') != -1){","                var anims = settings.effect.split(',');","                vars.randAnim = anims[Math.floor(Math.random()*(anims.length))];","\t\t\t\tif(vars.randAnim == undefined) vars.randAnim = 'fade';","            }","\t\t","\t\t\t//Run effects","\t\t\tvars.running = true;","\t\t\tif(settings.effect == 'sliceDown' || settings.effect == 'sliceDownRight' || vars.randAnim == 'sliceDownRight' ||","\t\t\t\tsettings.effect == 'sliceDownLeft' || vars.randAnim == 'sliceDownLeft'){","\t\t\t\tvar timeBuff = 0;","\t\t\t\tvar i = 0;","                resetSliceWidth(slider, settings);","\t\t\t\tvar slices = $('.nivo-slice', slider);","\t\t\t\tif(settings.effect == 'sliceDownLeft' || vars.randAnim == 'sliceDownLeft') slices = $('.nivo-slice', slider)._reverse();","\t\t\t\tslices.each(function(){","\t\t\t\t\tvar slice = $(this);","\t\t\t\t\tslice.css({ 'top': '0px' });","\t\t\t\t\tif(i == settings.slices-1){","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('nivo:animFinished'); });","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t} else {","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t}","\t\t\t\t\ttimeBuff += 50;","\t\t\t\t\ti++;","\t\t\t\t});","\t\t\t} ","\t\t\telse if(settings.effect == 'sliceUp' || settings.effect == 'sliceUpRight' || vars.randAnim == 'sliceUpRight' ||","\t\t\t\t\tsettings.effect == 'sliceUpLeft' || vars.randAnim == 'sliceUpLeft'){","\t\t\t\tvar timeBuff = 0;","\t\t\t\tvar i = 0;","                resetSliceWidth(slider, settings);","\t\t\t\tvar slices = $('.nivo-slice', slider);","\t\t\t\tif(settings.effect == 'sliceUpLeft' || vars.randAnim == 'sliceUpLeft') slices = $('.nivo-slice', slider)._reverse();","\t\t\t\tslices.each(function(){","\t\t\t\t\tvar slice = $(this);","\t\t\t\t\tslice.css({ 'bottom': '0px' });","\t\t\t\t\tif(i == settings.slices-1){","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('nivo:animFinished'); });","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t} else {","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t}","\t\t\t\t\ttimeBuff += 50;","\t\t\t\t\ti++;","\t\t\t\t});","\t\t\t} ","\t\t\telse if(settings.effect == 'sliceUpDown' || settings.effect == 'sliceUpDownRight' || vars.randAnim == 'sliceUpDown' || ","\t\t\t\t\tsettings.effect == 'sliceUpDownLeft' || vars.randAnim == 'sliceUpDownLeft'){","\t\t\t\tvar timeBuff = 0;","\t\t\t\tvar i = 0;","\t\t\t\tvar v = 0;","                resetSliceWidth(slider, settings);","\t\t\t\tvar slices = $('.nivo-slice', slider);","\t\t\t\tif(settings.effect == 'sliceUpDownLeft' || vars.randAnim == 'sliceUpDownLeft') slices = $('.nivo-slice', slider)._reverse();","\t\t\t\tslices.each(function(){","\t\t\t\t\tvar slice = $(this);","\t\t\t\t\tif(i == 0){","\t\t\t\t\t\tslice.css('top','0px');","\t\t\t\t\t\ti++;","\t\t\t\t\t} else {","\t\t\t\t\t\tslice.css('bottom','0px');","\t\t\t\t\t\ti = 0;","\t\t\t\t\t}","\t\t\t\t\t","\t\t\t\t\tif(v == settings.slices-1){","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('nivo:animFinished'); });","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t} else {","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ height:'100%', opacity:'1.0' }, settings.animSpeed);","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t}","\t\t\t\t\ttimeBuff += 50;","\t\t\t\t\tv++;","\t\t\t\t});","\t\t\t} ","\t\t\telse if(settings.effect == 'fold' || vars.randAnim == 'fold'){","\t\t\t\tvar timeBuff = 0;","\t\t\t\tvar i = 0;","                resetSliceWidth(slider, settings);","\t\t\t\t$('.nivo-slice', slider).each(function(){","\t\t\t\t\tvar slice = $(this);","\t\t\t\t\tvar origWidth = slice.width();","\t\t\t\t\tslice.css({ top:'0px', height:'100%', width:'0px' });","\t\t\t\t\tif(i == settings.slices-1){","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ width:origWidth, opacity:'1.0' }, settings.animSpeed, '', function(){ slider.trigger('nivo:animFinished'); });","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t} else {","\t\t\t\t\t\tsetTimeout(function(){","\t\t\t\t\t\t\tslice.animate({ width:origWidth, opacity:'1.0' }, settings.animSpeed);","\t\t\t\t\t\t}, (100 + timeBuff));","\t\t\t\t\t}","\t\t\t\t\ttimeBuff += 50;","\t\t\t\t\ti++;","\t\t\t\t});","\t\t\t}  ","\t\t\telse if(settings.effect == 'fade' || vars.randAnim == 'fade'){","\t\t\t\tvar firstSlice = $('.nivo-slice:first', slider);","                firstSlice.css({","                    'height': '100%',","                    'width': slider.width() + 'px'","                });","    ","\t\t\t\tfirstSlice.animate({ opacity:'1.0' }, (settings.animSpeed*2), '', function(){ slider.trigger('nivo:animFinished'); });","\t\t\t}    ","            else if(settings.effect == 'slideInRight' || vars.randAnim == 'slideInRight'){","                var firstSlice = $('.nivo-slice:first', slider);","                firstSlice.css({","                    'height': '100%',","                    'width': '0px',","                    'opacity': '1'","                });","","                firstSlice.animate({ width: slider.width() + 'px' }, (settings.animSpeed*2), '', function(){ slider.trigger('nivo:animFinished'); });","            }","            else if(settings.effect == 'slideInLeft' || vars.randAnim == 'slideInLeft'){","                var firstSlice = $('.nivo-slice:first', slider);","                firstSlice.css({","                    'height': '100%',","                    'width': '0px',","                    'opacity': '1',","                    'left': '',","                    'right': '0px'","                });","","                firstSlice.animate({ width: slider.width() + 'px' }, (settings.animSpeed*2), '', function(){ ","                    // Reset positioning","                    firstSlice.css({","                        'left': '0px',","                        'right': ''","                    });","                    slider.trigger('nivo:animFinished'); ","                });","            }","\t\t}","        ","        // For debugging","        var trace = function(msg){","            if (this.console && typeof console.log != \"undefined\")","                console.log(msg);","        }","        ","        // Start / Stop","        this.stop = function(){","            if(!$(element).data('nivo:vars').stop){","                $(element).data('nivo:vars').stop = true;","                trace('Stop Slider');","            }","        }","        ","        this.start = function(){","            if($(element).data('nivo:vars').stop){","                $(element).data('nivo:vars').stop = false;","                trace('Start Slider');","            }","        }","        ","        //Trigger the afterLoad callback","        settings.afterLoad.call(this);","    };","        ","    $.fn.nivoSlider = function(options) {","    ","        return this.each(function(){","            var element = $(this);","            // Return early if this element already has a plugin instance","            if (element.data('nivoslider')) return;","            // Pass options to plugin constructor","            var nivoslider = new NivoSlider(this, options);","            // Store plugin object in this element's data","            element.data('nivoslider', nivoslider);","        });","","\t};","\t","\t//Default settings","\t$.fn.nivoSlider.defaults = {","\t\teffect: 'random',","\t\tslices: 15,","\t\tanimSpeed: 500,","\t\tpauseTime: 3000,","\t\tstartSlide: 0,","\t\tdirectionNav: true,","\t\tdirectionNavHide: true,","\t\tcontrolNav: true,","\t\tcontrolNavThumbs: false,","        controlNavThumbsFromRel: false,","\t\tcontrolNavThumbsSearch: '.jpg',","\t\tcontrolNavThumbsReplace: '_thumb.jpg',","\t\tkeyboardNav: true,","\t\tpauseOnHover: true,","\t\tmanualAdvance: false,","\t\tcaptionOpacity: 0.8,","\t\tbeforeChange: function(){},","\t\tafterChange: function(){},","\t\tslideshowEnd: function(){},","        lastSlide: function(){},","        afterLoad: function(){}","\t};","\t","\t$.fn._reverse = [].reverse;","\t"]},{"action":"insertText","range":{"start":{"row":552,"column":0},"end":{"row":552,"column":11}},"text":"})(jQuery);"}]}]]},"ace":{"folds":[],"scrolltop":8268,"scrollleft":0,"selection":{"start":{"row":552,"column":11},"end":{"row":552,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":515,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1416432923954,"hash":"66fdc75dee273ba9b5921d80a51d68b83b3aca16"}